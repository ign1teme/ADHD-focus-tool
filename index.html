<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸“æ³¨æµè§ˆå™¨ - ADHD Focus Browser</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #5B8FB9;
            --secondary: #301E67;
            --accent: #03C988;
            --warning: #FF6B6B;
            --bg-dark: #1a1a2e;
            --bg-light: #16213e;
            --text: #eaeaea;
            --text-muted: #a0a0a0;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: var(--bg-dark);
            color: var(--text);
            height: 100vh;
            overflow: hidden;
        }

        .container {
            display: grid;
            grid-template-columns: 280px 1fr;
            height: 100vh;
        }

        /* ä¾§è¾¹æ æ ·å¼ */
        .sidebar {
            background: var(--bg-light);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
            border-right: 1px solid rgba(255,255,255,0.1);
        }

        .logo {
            text-align: center;
            padding: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .logo h1 {
            font-size: 1.3rem;
            color: var(--accent);
        }

        .logo p {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 5px;
        }

        /* ç•ªèŒ„é’Ÿæ ·å¼ */
        .timer-section {
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .timer-display {
            font-size: 3rem;
            font-weight: bold;
            color: var(--accent);
            margin: 15px 0;
            font-variant-numeric: tabular-nums;
        }

        .timer-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 10px;
        }

        /* åœ†ç¯è¿›åº¦æ¡æ ·å¼ */
        .timer-circle-container {
            position: relative;
            width: 180px;
            height: 180px;
            margin: 15px auto;
        }

        .timer-circle-svg {
            transform: rotate(-90deg);
            width: 100%;
            height: 100%;
        }

        .timer-circle-bg {
            fill: none;
            stroke: rgba(255,255,255,0.1);
            stroke-width: 8;
        }

        .timer-circle-progress {
            fill: none;
            stroke: var(--accent);
            stroke-width: 8;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.3s linear;
        }

        .timer-display-overlay {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .timer-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 15px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.2s;
        }

        .btn-primary {
            background: var(--accent);
            color: #000;
        }

        .btn-primary:hover {
            background: #02a870;
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: var(--text);
        }

        .btn-secondary:hover {
            background: rgba(255,255,255,0.2);
        }

        .btn-danger {
            background: var(--warning);
            color: #fff;
        }

        /* ä»»åŠ¡åŒºåŸŸæ ·å¼ */
        .task-section {
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 15px;
        }

        .section-title {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .task-input-group {
            display: flex;
            gap: 8px;
            margin-bottom: 10px;
        }

        .task-input {
            flex: 1;
            min-width: 0;
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            background: rgba(255,255,255,0.1);
            color: var(--text);
            font-size: 0.85rem;
        }

        .task-input:focus {
            outline: 2px solid var(--accent);
        }

        .task-list {
            list-style: none;
            max-height: 150px;
            overflow-y: auto;
        }

        .task-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            margin-bottom: 5px;
            font-size: 0.85rem;
        }

        .task-item.completed {
            opacity: 0.5;
            text-decoration: line-through;
        }

        .task-checkbox {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .task-delete {
            margin-left: auto;
            background: none;
            border: none;
            color: var(--warning);
            cursor: pointer;
            opacity: 0.6;
        }

        .task-delete:hover {
            opacity: 1;
        }

        /* å½“å‰ç›®æ ‡é«˜äº® */
        .current-goal {
            background: linear-gradient(135deg, var(--secondary), var(--bg-light));
            border-radius: 12px;
            padding: 15px;
            border-left: 4px solid var(--accent);
        }

        .current-goal input {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 6px;
            background: rgba(255,255,255,0.1);
            color: var(--text);
            font-size: 1rem;
            text-align: center;
        }

        .current-goal input:focus {
            outline: 2px solid var(--accent);
        }

        /* ç»Ÿè®¡åŒºåŸŸ */
        .stats-section {
            background: rgba(0,0,0,0.2);
            border-radius: 12px;
            padding: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .stat-item {
            text-align: center;
            padding: 10px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.7rem;
            color: var(--text-muted);
        }

        /* ä¸»å†…å®¹åŒº */
        .main-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px;
            gap: 30px;
            overflow-y: auto;
        }

        /* å‘¼å¸ç»ƒä¹  */
        .breathing-section {
            text-align: center;
        }

        .breathing-section h2 {
            color: var(--accent);
            margin-bottom: 10px;
        }

        .breathing-hint {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 20px;
        }

        .breathing-circle {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            transition: transform 4s ease-in-out;
            cursor: pointer;
        }

        .breathing-circle.inhale {
            transform: scale(1.5);
        }

        .breathing-circle.exhale {
            transform: scale(1);
        }

        #breathingText {
            color: #fff;
            font-weight: bold;
            font-size: 1rem;
        }

        /* æ¿€åŠ±è¯­å¥ */
        .motivation-section {
            text-align: center;
            max-width: 500px;
        }

        .motivation-quote {
            font-size: 1.3rem;
            color: var(--text);
            font-style: italic;
            margin-bottom: 15px;
            line-height: 1.6;
        }

        /* å¿«æ·é“¾æ¥ */
        .quick-links {
            text-align: center;
        }

        .quick-links h3 {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .links-grid {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .link-card {
            padding: 12px 24px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            color: var(--text);
            text-decoration: none;
            transition: all 0.2s;
        }

        .link-card:hover {
            background: var(--accent);
            color: #000;
        }

        /* ä¸“æ³¨æç¤º */
        .focus-tips {
            max-width: 400px;
        }

        .focus-tips h3 {
            color: var(--text-muted);
            font-size: 0.9rem;
            margin-bottom: 10px;
            text-align: center;
        }

        .focus-tips ul {
            list-style: none;
        }

        .focus-tips li {
            padding: 8px 12px;
            background: rgba(255,255,255,0.05);
            border-radius: 6px;
            margin-bottom: 8px;
            font-size: 0.9rem;
            color: var(--text-muted);
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ä¾§è¾¹æ  -->
        <aside class="sidebar">
            <div class="logo">
                <h1>ğŸ¯ ä¸“æ³¨æµè§ˆå™¨</h1>
                <p>ä¸º ADHD ç”¨æˆ·è®¾è®¡</p>
            </div>

            <!-- ç•ªèŒ„é’Ÿ -->
            <div class="timer-section">
                <div class="timer-label">ç•ªèŒ„é’Ÿè®¡æ—¶å™¨</div>
                <div class="timer-circle-container">
                    <svg class="timer-circle-svg" viewBox="0 0 180 180">
                        <circle class="timer-circle-bg" cx="90" cy="90" r="82"></circle>
                        <circle class="timer-circle-progress" id="timerCircle" cx="90" cy="90" r="82"></circle>
                    </svg>
                    <div class="timer-display-overlay">
                        <div class="timer-display" id="timerDisplay">25:00</div>
                    </div>
                </div>
                <div class="timer-buttons">
                    <button class="btn btn-primary" id="startBtn">å¼€å§‹</button>
                    <button class="btn btn-secondary" id="resetBtn">é‡ç½®</button>
                </div>
                <div style="margin-top: 15px; display: flex; gap: 5px; justify-content: center;">
                    <button class="btn btn-secondary" onclick="setTimer(25)">25åˆ†é’Ÿ</button>
                    <button class="btn btn-secondary" onclick="setTimer(5)">5åˆ†é’Ÿ</button>
                    <button class="btn btn-secondary" onclick="setTimer(15)">15åˆ†é’Ÿ</button>
                </div>
            </div>

            <!-- å½“å‰ç›®æ ‡ -->
            <div class="current-goal">
                <div class="section-title">ğŸ¯ å½“å‰ç›®æ ‡</div>
                <input type="text" id="currentGoal" placeholder="è¾“å…¥ä½ ç°åœ¨è¦ä¸“æ³¨åšçš„äº‹...">
            </div>

            <!-- ä»»åŠ¡åˆ—è¡¨ -->
            <div class="task-section">
                <div class="section-title">ğŸ“ å¾…åŠäº‹é¡¹</div>
                <div class="task-input-group">
                    <input type="text" class="task-input" id="taskInput" placeholder="æ·»åŠ ä»»åŠ¡...">
                    <button class="btn btn-primary" onclick="addTask()">+</button>
                </div>
                <ul class="task-list" id="taskList"></ul>
            </div>

            <!-- ç»Ÿè®¡ -->
            <div class="stats-section">
                <div class="section-title">ğŸ“Š ä»Šæ—¥ç»Ÿè®¡</div>
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="pomodoroCount">0</div>
                        <div class="stat-label">å®Œæˆç•ªèŒ„</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="focusTime">0</div>
                        <div class="stat-label">ä¸“æ³¨åˆ†é’Ÿ</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- ä¸»å†…å®¹åŒº -->
        <main class="main-content">
            <!-- å‘¼å¸ç»ƒä¹  -->
            <div class="breathing-section">
                <h2>å‘¼å¸ç»ƒä¹ </h2>
                <p class="breathing-hint">è·Ÿéšåœ†åœˆå‘¼å¸ï¼Œå¸®åŠ©ä½ å¹³é™ä¸‹æ¥</p>
                <div class="breathing-circle" id="breathingCircle">
                    <span id="breathingText">ç‚¹å‡»å¼€å§‹</span>
                </div>
                <button class="btn btn-primary" id="breathingBtn" onclick="toggleBreathing()">å¼€å§‹å‘¼å¸ç»ƒä¹ </button>
            </div>

            <!-- æ¿€åŠ±è¯­å¥ -->
            <div class="motivation-section">
                <div class="motivation-quote" id="motivationQuote">
                    "ä¸“æ³¨äºå½“ä¸‹ï¼Œä¸€æ¬¡åªåšä¸€ä»¶äº‹ã€‚"
                </div>
                <button class="btn btn-secondary" onclick="newQuote()">æ¢ä¸€å¥</button>
            </div>

            <!-- å¿«æ·é“¾æ¥ -->
            <div class="quick-links">
                <h3>å¸¸ç”¨å·¥å…·ï¼ˆæ–°æ ‡ç­¾é¡µæ‰“å¼€ï¼‰</h3>
                <div class="links-grid">
                    <a href="https://www.google.com" target="_blank" class="link-card">Google</a>
                    <a href="https://www.notion.so" target="_blank" class="link-card">Notion</a>
                    <a href="https://calendar.google.com" target="_blank" class="link-card">æ—¥å†</a>
                    <a href="https://mail.google.com" target="_blank" class="link-card">é‚®ç®±</a>
                </div>
            </div>

            <!-- ä¸“æ³¨æç¤º -->
            <div class="focus-tips">
                <h3>ä¸“æ³¨å°è´´å£«</h3>
                <ul id="tipsList">
                    <li>æŠŠæ‰‹æœºæ”¾åˆ°å¦ä¸€ä¸ªæˆ¿é—´</li>
                    <li>å…³é—­ä¸å¿…è¦çš„æµè§ˆå™¨æ ‡ç­¾</li>
                    <li>æ¯å®Œæˆä¸€ä¸ªç•ªèŒ„é’Ÿï¼Œèµ·æ¥æ´»åŠ¨ä¸€ä¸‹</li>
                </ul>
            </div>
        </main>
    </div>

    <script>
        // ç•ªèŒ„é’ŸåŠŸèƒ½
        let timerSeconds = 25 * 60;
        let totalSeconds = 25 * 60;
        let timerInterval = null;
        let isRunning = false;

        const timerDisplay = document.getElementById('timerDisplay');
        const startBtn = document.getElementById('startBtn');
        const resetBtn = document.getElementById('resetBtn');
        const timerCircle = document.getElementById('timerCircle');

        // åœ†ç¯è¿›åº¦æ¡è®¾ç½®
        const radius = 82;
        const circumference = 2 * Math.PI * radius;
        timerCircle.style.strokeDasharray = circumference;
        timerCircle.style.strokeDashoffset = 0;

        function updateTimerDisplay() {
            const mins = Math.floor(timerSeconds / 60);
            const secs = timerSeconds % 60;
            timerDisplay.textContent = `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;

            // æ›´æ–°åœ†ç¯è¿›åº¦
            const progress = timerSeconds / totalSeconds;
            const offset = circumference * (1 - progress);
            timerCircle.style.strokeDashoffset = offset;
        }

        function startTimer() {
            if (isRunning) {
                clearInterval(timerInterval);
                startBtn.textContent = 'ç»§ç»­';
                isRunning = false;
            } else {
                timerInterval = setInterval(() => {
                    if (timerSeconds > 0) {
                        timerSeconds--;
                        updateTimerDisplay();
                    } else {
                        clearInterval(timerInterval);
                        isRunning = false;
                        startBtn.textContent = 'å¼€å§‹';
                        // æ›´æ–°ç»Ÿè®¡
                        stats.pomodoros++;
                        stats.focusMinutes += 25;
                        localStorage.setItem('adhd_stats', JSON.stringify(stats));
                        document.getElementById('pomodoroCount').textContent = stats.pomodoros;
                        document.getElementById('focusTime').textContent = stats.focusMinutes;
                        // æé†’
                        if (Notification.permission === 'granted') {
                            new Notification('ä¸“æ³¨æ—¶é—´ç»“æŸï¼', { body: 'ä¼‘æ¯ä¸€ä¸‹å§ï¼' });
                        }
                        alert('ğŸ‰ ä¸“æ³¨æ—¶é—´ç»“æŸï¼ä¼‘æ¯ä¸€ä¸‹å§ï¼');
                    }
                }, 1000);
                startBtn.textContent = 'æš‚åœ';
                isRunning = true;
            }
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerSeconds = 25 * 60;
            totalSeconds = 25 * 60;
            updateTimerDisplay();
            startBtn.textContent = 'å¼€å§‹';
            isRunning = false;
        }

        function setTimer(minutes) {
            clearInterval(timerInterval);
            timerSeconds = minutes * 60;
            totalSeconds = minutes * 60;
            updateTimerDisplay();
            startBtn.textContent = 'å¼€å§‹';
            isRunning = false;
        }

        startBtn.addEventListener('click', startTimer);
        resetBtn.addEventListener('click', resetTimer);

        // ä»»åŠ¡ç®¡ç†åŠŸèƒ½
        let tasks = JSON.parse(localStorage.getItem('adhd_tasks') || '[]');
        const taskList = document.getElementById('taskList');
        const taskInput = document.getElementById('taskInput');

        function renderTasks() {
            taskList.innerHTML = '';
            tasks.forEach((task, index) => {
                const li = document.createElement('li');
                li.className = 'task-item' + (task.done ? ' completed' : '');
                li.innerHTML = `
                    <input type="checkbox" class="task-checkbox"
                           ${task.done ? 'checked' : ''}
                           onchange="toggleTask(${index})">
                    <span>${task.text}</span>
                    <button class="task-delete" onclick="deleteTask(${index})">âœ•</button>
                `;
                taskList.appendChild(li);
            });
        }

        function addTask() {
            const text = taskInput.value.trim();
            if (text) {
                tasks.push({ text, done: false });
                localStorage.setItem('adhd_tasks', JSON.stringify(tasks));
                taskInput.value = '';
                renderTasks();
            }
        }

        function toggleTask(index) {
            tasks[index].done = !tasks[index].done;
            localStorage.setItem('adhd_tasks', JSON.stringify(tasks));
            renderTasks();
        }

        function deleteTask(index) {
            tasks.splice(index, 1);
            localStorage.setItem('adhd_tasks', JSON.stringify(tasks));
            renderTasks();
        }

        taskInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') addTask();
        });

        renderTasks();

        // ç»Ÿè®¡åŠŸèƒ½
        let stats = JSON.parse(localStorage.getItem('adhd_stats') || '{"pomodoros":0,"focusMinutes":0,"date":""}');
        const today = new Date().toDateString();

        if (stats.date !== today) {
            stats = { pomodoros: 0, focusMinutes: 0, date: today };
            localStorage.setItem('adhd_stats', JSON.stringify(stats));
        }

        document.getElementById('pomodoroCount').textContent = stats.pomodoros;
        document.getElementById('focusTime').textContent = stats.focusMinutes;

        // ä¿å­˜å½“å‰ç›®æ ‡
        const currentGoal = document.getElementById('currentGoal');
        currentGoal.value = localStorage.getItem('adhd_goal') || '';
        currentGoal.addEventListener('input', () => {
            localStorage.setItem('adhd_goal', currentGoal.value);
        });

        // å‘¼å¸ç»ƒä¹ åŠŸèƒ½
        let breathingActive = false;
        let breathingInterval = null;
        const breathingCircle = document.getElementById('breathingCircle');
        const breathingText = document.getElementById('breathingText');
        const breathingBtn = document.getElementById('breathingBtn');

        function toggleBreathing() {
            if (breathingActive) {
                stopBreathing();
            } else {
                startBreathing();
            }
        }

        function startBreathing() {
            breathingActive = true;
            breathingBtn.textContent = 'åœæ­¢';
            breathe();
        }

        function stopBreathing() {
            breathingActive = false;
            breathingBtn.textContent = 'å¼€å§‹å‘¼å¸ç»ƒä¹ ';
            breathingCircle.classList.remove('inhale', 'exhale');
            breathingText.textContent = 'ç‚¹å‡»å¼€å§‹';
        }

        function breathe() {
            if (!breathingActive) return;

            // å¸æ°” 4ç§’
            breathingCircle.classList.add('inhale');
            breathingCircle.classList.remove('exhale');
            breathingText.textContent = 'å¸æ°”...';

            setTimeout(() => {
                if (!breathingActive) return;
                // å‘¼æ°” 4ç§’
                breathingCircle.classList.remove('inhale');
                breathingCircle.classList.add('exhale');
                breathingText.textContent = 'å‘¼æ°”...';

                setTimeout(() => {
                    if (breathingActive) breathe();
                }, 4000);
            }, 4000);
        }

        // æ¿€åŠ±è¯­å¥åŠŸèƒ½
        const quotes = [
            "ä¸“æ³¨äºå½“ä¸‹ï¼Œä¸€æ¬¡åªåšä¸€ä»¶äº‹ã€‚",
            "è¿›æ­¥æ¯”å®Œç¾æ›´é‡è¦ã€‚",
            "æ¯ä¸€å°æ­¥éƒ½æ˜¯å‰è¿›ã€‚",
            "ä½ æ¯”ä½ æƒ³è±¡çš„æ›´æœ‰èƒ½åŠ›ã€‚",
            "ä¼‘æ¯ä¸æ˜¯å·æ‡’ï¼Œæ˜¯ä¸ºäº†èµ°æ›´è¿œã€‚",
            "æ¥å—è‡ªå·±çš„èŠ‚å¥ï¼Œä¸å¿…å’Œåˆ«äººæ¯”è¾ƒã€‚",
            "å¼€å§‹æ˜¯æœ€éš¾çš„éƒ¨åˆ†ï¼Œä½ å·²ç»åšåˆ°äº†ã€‚",
            "åˆ†å¿ƒäº†ï¼Ÿæ²¡å…³ç³»ï¼Œé‡æ–°å¼€å§‹å°±å¥½ã€‚",
            "ä»Šå¤©å®Œæˆä¸€ä»¶äº‹ï¼Œå°±æ˜¯èƒœåˆ©ã€‚",
            "ä½ çš„å¤§è„‘åªæ˜¯å·¥ä½œæ–¹å¼ä¸åŒï¼Œä¸æ˜¯æœ‰ç¼ºé™·ã€‚"
        ];

        function newQuote() {
            const quoteEl = document.getElementById('motivationQuote');
            const randomIndex = Math.floor(Math.random() * quotes.length);
            quoteEl.textContent = '"' + quotes[randomIndex] + '"';
        }
    </script>
</body>
</html>
